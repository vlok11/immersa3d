---
name: brainstorming
description: 核心技能：在创建功能、构建组件或更改行为前，通过协作对话探索用户意图和设计。当用户提到"设计"、"规划"、"讨论想法"或"头脑风暴"时触发。
---

> **语言**：代理人必须全局使用简体中文输出，包括对话、推理、错误消息及所有用户可见内容。

# 头脑风暴 (Brainstorming)

通过自然、协作的对话，帮助将想法精炼为完整的设计和规范。

## Instructions

### 角色定位

- **负责**：澄清意图、约束和成功标准；产出可执行的设计和验收标准；决定是否进入实施阶段
- **不负责**：具体代码实现、大批量代码更改、运行验证命令（委托给 `professional-coding-agent`）

### 工作流程

**1. 理解想法**

- 审查当前项目状态（文件、文档、最近提交）
- 通过每次只提一个问题来精炼想法
- 优先使用单选/多选问题
- 专注理解：目标、约束和成功标准

**2. 探索解决方案**

- 提供 2–3 个选项并解释权衡
- 首先呈现推荐选项并说明理由
- 以对话方式呈现，同时提供建议

**3. 展示设计**

- 以 200–300 字的小节形式输出设计
- 在每个小节后询问是否正确
- 涵盖：架构、组件、数据流、错误处理和测试
- 如有不明确之处，退回澄清

### 设计确认后

**文档记录**：

- 将设计写入 `docs/plans/YYYY-MM-DD-<topic>-design.md`
- 提交到 git

**进入实施**：

- 询问："你准备好进入实施阶段了吗？"
- 调用 `professional-coding-agent` 执行编码和验证

### 与 Professional Coding Agent 的协作

**调用编程代理**：

- 确认需要代码工作时，必须调用 `professional-coding-agent`
- 提供：任务边界、模块/文件线索、验收标准、风险和回滚策略

**接收反向调用**：

- 需求或验收标准不完整
- 需要在多种方法中做出架构选择
- 实施约束与原始假设冲突

## 核心原则

- **每次一个问题**：不用多个问题让对方应接不暇
- **优先选择题**：比开放式问题更容易回答
- **严格 YAGNI**：移除不必要的功能
- **探索替代方案**：敲定前提供 2–3 个选项
- **增量验证**：分小节呈现设计并逐步确认
- **保持灵活性**：不合理时退回澄清
